# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ /start –∏ /menu

## üö® **–ü—Ä–æ–±–ª–µ–º–∞**

–ö–æ–º–∞–Ω–¥—ã `/start` –∏ `/menu` –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ **email –º–æ–¥—É–ª–µ**, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –∫—Ä–∏—Ç–∏—á–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ email –º–æ–¥—É–ª—è —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ—Å—Ç–∞–≤–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å
- id_module –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑-–∑–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ù–∞—Ä—É—à–∞–ª—Å—è –ø—Ä–∏–Ω—Ü–∏–ø –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

### 1. üèóÔ∏è –°–æ–∑–¥–∞–Ω **core –º–æ–¥—É–ª—å** (`routers/core/`)
```
routers/core/
‚îú‚îÄ‚îÄ __init__.py     # –≠–∫—Å–ø–æ—Ä—Ç core_router + MENU_CONFIG
‚îî‚îÄ‚îÄ router.py       # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã /start, /menu, main_menu
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç core –º–æ–¥—É–ª—å:**
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã `/start` –∏ `/menu` 
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —á–µ—Ä–µ–∑ callback `main_menu`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`ALLOWED_USER_IDS`)
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞

### 2. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω **id_module**
**–ë—ã–ª–æ (–ø–ª–æ—Ö–æ):**
```python
@id_module_router.message()  # ‚Üê –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è!
async def send_user_id(message: Message):
```

**–°—Ç–∞–ª–æ (—Ö–æ—Ä–æ—à–æ):**
```python
@id_module_router.callback_query(F.data == "id_mode")  # ‚Üê –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ callback
async def handle_id_mode(callback_query: CallbackQuery):
```

### 3. üóëÔ∏è –£–¥–∞–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –∏–∑ email –º–æ–¥—É–ª—è
- –ö–æ–º–∞–Ω–¥—ã `/start` –∏ `/menu` –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ core –º–æ–¥—É–ª—å
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Å—Ç–∞–ª–∞—Å—å –≤ email –º–æ–¥—É–ª–µ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### 4. üìä –û–±–Ω–æ–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –º–æ–¥—É–ª–µ–π –≤ –º–µ–Ω—é
```
1. üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é    (core)      order: 1
2. ‚úâÔ∏è –û—Ç–ø—Ä–∞–≤–∫–∞ email  (email)     order: 10  
3. üß™ –¢–µ—Å—Ç –º–æ–¥—É–ª—å     (test)      order: 20
4. üåê API –ü—Ä–∏–º–µ—Ä      (api)       order: 25
5. üÜî –ü–æ–ª—É—á–∏—Ç—å ID     (id)        order: 30
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### ‚úÖ **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
- –ö–æ–º–∞–Ω–¥—ã `/start` –∏ `/menu` —Ä–∞–±–æ—Ç–∞—é—Ç **–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–æ–¥—É–ª–µ–π**
- –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –ª—é–±—ã–µ –º–æ–¥—É–ª–∏ –±–µ–∑ –ø–æ–ª–æ–º–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

### ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:**
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π core –º–æ–¥—É–ª—å
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**
- id_module –±–æ–ª—å—à–µ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ö–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ù–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π

## üîÑ **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π:

**‚ùå –ù–ï –¥–µ–ª–∞–π—Ç–µ:**
```python
@router.message()  # –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –í–°–ï
```

**‚úÖ –î–ï–õ–ê–ô–¢–ï:**
```python
@router.message(F.text.contains("keyword"))     # –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
@router.callback_query(F.data == "my_mode")     # –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ callback
@router.message(Command("my_command"))          # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```

**üèóÔ∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã** –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ `core` –º–æ–¥—É–ª—å!

---

**–ê–≤—Ç–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** AI Assistant  
**–î–∞—Ç–∞:** 2025-01-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ 